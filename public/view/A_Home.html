<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agility - Home</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" />
    <link rel="stylesheet" href="../css/inicio.css">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/quagga/0.12.1/quagga.min.js"></script>
  
</head>
<body>
    <header class="top-bar">
        <button id="menu-toggle" class="menu-toggle">‚ò∞</button>
        <h1 style="letter-spacing: 5px;">AGILITY</h1>
        <div class="placeholder"></div>
           <div class="top-bar-right">
            <!-- Notifica√ß√µes -->
             <div class="notification-icon" id="notificacao-btn" style="cursor: pointer;">
                <span class="bell">üîî</span>
                <span class="notification-badge" id="notificacao-contador" style="display: none;">0</span>
            </div>

            <!-- √Årea do usu√°rio -->
              <div class="user-info">
                <img id="avatarUsuario" src="https://i.pravatar.cc/40?img=3" alt="Usu√°rio" class="user-avatar">
                <span class="user-name">Ol√°, Usu√°rio</span>
              </div>
          </div> 
      </header>

    <nav class="sidebar" id="sidebar">
        <ul>
          <li><a href="A_Home.html"><i class="fa-solid fa-house"></i>Home</a></li>
          <li class="has-submenu">
            <button class="submenu-toggle"><i class="fa-solid fa-box"></i>Produtos</button>
            <ul class="submenu">
                <li><a href="A_Cadastrarproduto.html">Adicionar Produto</a></li>
                <li><a href="A_Estoque.html">Seu Estoque</a></li>
            </ul>
          </li>
      
          <li class="has-submenu">
            <button class="submenu-toggle"><i class="fa-solid fa-building"></i>Fornecedores</button>
            <ul class="submenu">
                <li><a href="A_Fornecedor.html">Cadastrar Fornecedor</a></li>
                <li><a href="A_Fornecedores.html">Fornecedores</a></li>
            </ul>
          </li>

          <li class="has-submenu">
            <button class="submenu-toggle"><i class="fa-solid fa-cart-shopping"></i>Compras</button>
            <ul class="submenu">
              <li><a href="A_CadastrarCompras.html">Cadastrar Compras</a></li>
              <li><a href="A_Compras.html">Compras</a></li>
            </ul>
          </li>
          
          <li class="has-submenu">
            <button class="submenu-toggle"><i class="fa-solid fa-tag"></i>Nota Fiscal</button>
            <ul class="submenu">
              <li><a href="A_CadastrarNotaFiscal.html">Cadastrar Fiscal</a></li>
              <li><a href="A_NotaFiscal.html">Notas Fiscais</a></li>
            </ul>
          </li>


          <!-- <li class="has-submenu">
            <button class="submenu-toggle">Usu√°rios</button>
            <ul class="submenu">
              <li><a href="#">Cadastrar Usu√°rio</a></li>
              <li><a href="#">Usu√°rios</a></li>
            </ul>
          </li> -->
          <li><a href="A_ChatBot.html"><i class="fa-solid fa-headset"></i>ChatBot</a></li>
          <li><a href="A_relatorios1.html"><i class="fa-solid fa-file"></i>Relat√≥rios</a></li>
          <li><a href="A_Perfil.html"><i class="fa-solid fa-user"></i>Perfil</a></li>
          <li><a href="A_Contato.html"><i class="fa-solid fa-envelope"></i>Contato</a></li>
          <li><a href="A_Sobre.html"><i class="fa-solid fa-circle-info"></i>Sobre / Ajuda</a></li>
          <li><a href="A_Configuracoes.html"><i class="fa-solid fa-gear"></i>Configura√ß√µes</a></li>
          <li><a href="#" onclick="logout()"><i class="fa-solid fa-right-from-bracket"></i>Sair Da Conta</a></li>
        </ul>
      </nav>

      <main class="main-content">
        <h1 class="titulo"><i class="fa-solid fa-triangle-exclamation"></i> AGILITY</h1>
        <hr>
        <h2><i class="fa-solid fa-chart-pie"></i>Home</h2>
        <p class="texto-produto">Nesta sess√£o voc√™ tem acesso a um dashboard din√¢mico com informa√ß√µes dos seus produtos.</p>
        <section class="recentes">
          <div class="recentes-header">
            <h2><i class="fa-solid fa-clock-rotate-left"></i> Acessados Recentemente</h2>
          </div>
          <div class="recentes-lista">
            <!-- Os itens recentes ser√£o inseridos aqui dinamicamente pelo Javascript -->
          </div>
        </section>
       <div class="dashboard">
          <div class="card">
            <h3>Total de Produtos</h3>
            <p id="totalProdutos">0</p>
          </div>
          <div class="card">
            <h3>Produtos Vencidos</h3>
            <p id="produtosVencidos">0</p>
          </div>
          <div class="card">
            <h3>Pr√≥ximos do Vencimento</h3>
            <p id="proximosVencimento">0</p>
          </div>
          <div class="card">
            <h3>Produtos Seguros</h3>
            <p id="produtosSeguros">0</p>
          </div>
        </div>
        <div class="col-md-8">
          <div class="card card-round">
            <div class="card-header">
              <div class="card-head-row">
                <div class="card-title">Estatisticas Usuario</div>
                <div class="card-tools">
                  <a href="#" class="btn btn-label-success btn-round btn-sm me-2">
                    <span class="btn-label">
                      <i class="fa fa-pencil"></i>
                    </span>
                    Exportar
                  </a>
                  <a href="#" class="btn btn-label-info btn-round btn-sm">
                    <span class="btn-label">
                      <i class="fa fa-print"></i>
                    </span>
                   Imprimir
                  </a>
                </div>
              </div>
            </div>
            <div class="card-body">
              <div class="chart-container" style="min-height: 375px">
                <canvas id="statisticsChart"></canvas>
              </div>
              <!-- Legenda personalizada -->
              <div id="myChartLegend" style="margin-top: 20px; display: flex; gap: 20px; justify-content: center;">
                <div style="display: flex; align-items: center;">
                  <span style="width: 12px; height: 12px; background-color: #ff6384; border-radius: 50%; display: inline-block; margin-right: 5px;"></span>
                  <span>Fornecedores</span>
                </div>
                <div style="display: flex; align-items: center;">
                  <span style="width: 12px; height: 12px; background-color: #ffce56; border-radius: 50%; display: inline-block; margin-right: 5px;"></span>
                  <span>Novos Fornecedores</span>
                </div>
                <div style="display: flex; align-items: center;">
                  <span style="width: 12px; height: 12px; background-color: #36a2eb; border-radius: 50%; display: inline-block; margin-right: 5px;"></span>
                  <span>Fornecedores Ativos</span>
                </div>
              </div>
            </div>
          </div>
          
      </div>
   
    </main>   
    <script src="../js/scriptinicio.js"></script>
    <script src="../js/A_Notificacao.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        atualizarContadorNotificacoes();
      });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
    const ctx = document.getElementById('statisticsChart').getContext('2d');

    new Chart(ctx, {
      type: 'line',
      data: {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',
                'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
        datasets: [
          {
            label: 'Fornecedores',
            data: [180, 200, 190, 210, 220, 230, 240, 260, 250, 280, 290, 310],
            backgroundColor: 'rgba(255, 99, 132, 0.3)',
            borderColor: 'rgba(255, 99, 132, 1)',
            fill: true,
            tension: 0.4
          },
          {
            label: 'Novos Fornecedores',
            data: [70, 60, 80, 90, 70, 75, 60, 80, 120, 130, 140, 150],
            backgroundColor: 'rgba(255, 206, 86, 0.3)',
            borderColor: 'rgba(255, 206, 86, 1)',
            fill: true,
            tension: 0.4
          },
          {
            label: 'Fornecedores Ativos',
            data: [300, 250, 200, 300, 270, 200, 180, 220, 260, 280, 320, 400],
            backgroundColor: 'rgba(54, 162, 235, 0.3)',
            borderColor: 'rgba(54, 162, 235, 1)',
            fill: true,
            tension: 0.4
          }
        ]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            display: false // Esconde a legenda do canvas para usar a customizada
          }
        },
        scales: {
          y: {
            beginAtZero: true,
            grid: {
              color: 'rgba(0,0,0,0.05)'
            }
          },
          x: {
            grid: {
              display: false
            }
          }
        }
      }
});
</script>

 <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="../js/A_Notificacao.js"></script>
  <script src="../js/A_Home.js"></script>
  <script src="../js/A_Perfil.js"></script>
      <script>
        document.addEventListener('DOMContentLoaded', () => {
          atualizarContadorNotificacoes();
        });
      </script>
</body>
</html>
